{
  "version": 3,
  "sources": ["../../../app/routes/index.tsx"],
  "sourcesContent": ["import type {LinksFunction, LoaderArgs, MetaFunction} from '@remix-run/node'\nimport {json} from '@remix-run/node'\nimport {Link, useLoaderData} from '@remix-run/react'\nimport groq from 'groq'\nimport {useRouteData} from 'remix-utils'\n\nimport AlbumCover from '~/components/RecordCover'\nimport Layout from '~/components/Layout'\nimport Title from '~/components/Title'\nimport {getClient} from '~/sanity/client'\nimport stylesheet from '~/tailwind.css'\nimport {recordStubsZ} from '~/types/record'\nimport type {HomeDocument} from '~/types/home'\n\nexport const links: LinksFunction = () => {\n  return [{rel: 'stylesheet', href: stylesheet}]\n}\n\nexport const meta: MetaFunction = (data) => {\n  const home = data.parentsData.root.home as HomeDocument\n\n  return {\n    title: [home.title, home.siteTitle].filter(Boolean).join(' | '),\n  }\n}\n\nexport const loader = async (props: LoaderArgs) => {\n  const query = groq`*[_type == \"record\"][0...12]{\n    _id,\n    title,\n    \"slug\": slug.current,\n    \"artist\": artist->title,\n    image\n  }`\n\n  const records = await getClient()\n    .fetch(query)\n    .then((res) => (res ? recordStubsZ.parse(res) : null))\n\n  if (!records) {\n    throw new Response('Not found', {status: 404})\n  }\n\n  return json({records})\n}\n\nexport default function Index() {\n  const {records} = useLoaderData<typeof loader>()\n  const {home} = useRouteData(`root`) as {home: HomeDocument}\n\n  return (\n    <Layout>\n      <div className=\"grid grid-cols-1 gap-6 md:gap-12\">\n        {home.title ? <Title>{home.title}</Title> : null}\n        {records.length > 0 ? (\n          <ul className=\"grid grid-cols-2 gap-6 md:grid-cols-3 md:gap-12 lg:grid-cols-4\">\n            {records.map((record) => (\n              <li key={record._id} className=\"group relative flex flex-col\">\n                <div className=\"relative overflow-hidden transition-all duration-200 ease-in-out group-hover:scale-105 group-hover:opacity-90\">\n                  <div className=\"absolute z-0 h-48 w-[200%] translate-x-20 translate-y-20 -rotate-45 bg-gradient-to-b from-white to-transparent opacity-25 mix-blend-overlay transition-transform duration-500 ease-in-out group-hover:translate-y-10 group-hover:translate-x-10 group-hover:opacity-75\" />\n                  <AlbumCover image={record.image} title={record.title} />\n                </div>\n                <div className=\"flex flex-col\">\n                  {record?.slug ? (\n                    <Link\n                      prefetch=\"intent\"\n                      to={record?.slug}\n                      className=\"text-bold pt-4 text-xl font-bold tracking-tighter transition-colors duration-100 ease-in-out hover:bg-cyan-400 hover:text-white md:text-3xl\"\n                    >\n                      {record.title}\n                      {/* Makes this entire block clickable */}\n                      <span className=\"absolute inset-0\" />\n                    </Link>\n                  ) : (\n                    <span className=\"pt-4 text-xl font-bold\">{record.title}</span>\n                  )}\n                  {record?.artist ? (\n                    <span className=\"bg-black font-bold leading-none tracking-tighter text-white\">\n                      {record.artist}\n                    </span>\n                  ) : null}\n                </div>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No records found</p>\n        )}\n      </div>\n    </Layout>\n  )\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAGA,kBAAiB;AAkDK;AAvCf,IAAM,QAAuB,MAAM;AACxC,SAAO,CAAC,EAAC,KAAK,cAAc,MAAM,iBAAU,CAAC;AAC/C;AAEO,IAAM,OAAqB,CAAC,SAAS;AAC1C,QAAM,OAAO,KAAK,YAAY,KAAK;AAEnC,SAAO;AAAA,IACL,OAAO,CAAC,KAAK,OAAO,KAAK,SAAS,EAAE,OAAO,OAAO,EAAE,KAAK,KAAK;AAAA,EAChE;AACF;AAsBe,SAAR,QAAyB;AAC9B,QAAM,EAAC,QAAO,IAAI,cAA6B;AAC/C,QAAM,EAAC,KAAI,IAAI,aAAa,MAAM;AAElC,SACE,mDAAC,UACC,6DAAC,SAAI,WAAU,oCACZ;AAAA,SAAK,QAAQ,mDAAC,SAAO,eAAK,SAAb;AAAA;AAAA;AAAA;AAAA,WAAmB,IAAW;AAAA,IAC3C,QAAQ,SAAS,IAChB,mDAAC,QAAG,WAAU,kEACX,kBAAQ,IAAI,CAAC,WACZ,mDAAC,QAAoB,WAAU,gCAC7B;AAAA,yDAAC,SAAI,WAAU,iHACb;AAAA,2DAAC,SAAI,WAAU,4QAAf;AAAA;AAAA;AAAA;AAAA,eAAwR;AAAA,QACxR,mDAAC,eAAW,OAAO,OAAO,OAAO,OAAO,OAAO,SAA/C;AAAA;AAAA;AAAA;AAAA,eAAsD;AAAA,WAFxD;AAAA;AAAA;AAAA;AAAA,aAGA;AAAA,MACA,mDAAC,SAAI,WAAU,iBACZ;AAAA,0CAAQ,QACP;AAAA,UAAC;AAAA;AAAA,YACC,UAAS;AAAA,YACT,IAAI,iCAAQ;AAAA,YACZ,WAAU;AAAA,YAET;AAAA,qBAAO;AAAA,cAER,mDAAC,UAAK,WAAU,sBAAhB;AAAA;AAAA;AAAA;AAAA,qBAAmC;AAAA;AAAA;AAAA,UAPrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQA,IAEA,mDAAC,UAAK,WAAU,0BAA0B,iBAAO,SAAjD;AAAA;AAAA;AAAA;AAAA,eAAuD;AAAA,SAExD,iCAAQ,UACP,mDAAC,UAAK,WAAU,+DACb,iBAAO,UADV;AAAA;AAAA;AAAA;AAAA,eAEA,IACE;AAAA,WAlBN;AAAA;AAAA;AAAA;AAAA,aAmBA;AAAA,SAxBO,OAAO,KAAhB;AAAA;AAAA;AAAA;AAAA,WAyBA,CACD,KA5BH;AAAA;AAAA;AAAA;AAAA,WA6BA,IAEA,mDAAC,OAAE,gCAAH;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAA,OAlCvB;AAAA;AAAA;AAAA;AAAA,SAoCA,KArCF;AAAA;AAAA;AAAA;AAAA,SAsCA;AAEJ;",
  "names": []
}
